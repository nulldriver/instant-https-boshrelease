---
name: proxy

templates:
  caddy_ctl.erb: bin/caddy_ctl
  Caddyfile.erb: config/Caddyfile

packages:
  - caddy

consumes:
  - name: backend
    type: conn
    optional: true

properties:
  contact_email:
    description: "Contact email address for ACME account"
    example: "hostmaster@example.com"
  proxies:
    description: |
      A list of multiple proxies. Each has the same properties as above. The
      default value will come from above properties.
    example:
    - hostname: example.com
      acme_url: https://acme-staging.api.letsencrypt.org/directory
      default_backend_port: 80
      backends: []
      upload_limit: 100mb
      websocket: false
      insecure_skip_verify: false
      headers.referrer_policy: strict-origin-when-cross-origin
